<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset="UTF-8">
        <title>Choate Zoom Coordinator</title>
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" integrity="sha256-OweaP/Ic6rsV+lysfyS4h+LM6sRwuO3euTYfr6M124g=" crossorigin="anonymous" />
        <!--Import JQuery-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        
        <script>
            function sendRequest(fd, loc) {
                 var xhr = new XMLHttpRequest();
                 xhr.onload = function(e) {
                     if (this.readyState === 4) {
                         console.log("Server returned: ", e.target.responseText);
                         if (e.target.responseText == "Success!") {
                             window.location.reload()
                         }
                     }
                 };
                 xhr.timeout = 5000;
                 xhr.open("POST", loc, true);
                 xhr.send(fd);
                 console.log(fd);
                 for (var value of fd.values()) {
                    console.log(value);
                 }
                 for (var value of fd.keys()) {
                    console.log(value);
                 }
             }
            {{ card_js }}

            $(document).ready(function(){
                $('.scrollspy').scrollSpy();
            });
            
        </script>
        <style>
            .card { /* Credit: https://stackoverflow.com/questions/39031224/how-to-center-cards-in-bootstrap-4 */
                float: none;
                margin: 0 auto 10px;
            }
        </style>
    </head>
  
    <!-- MAIN BODY -->
    <body>
        <!-- HEADER -->
        <div class="navbar-fixed">
            <nav class="blue">
                <div class = "nav-wrapper" style = "padding-left: 25%; padding-right: 25%;" >
                    <div class="hide-on-med-and-down">
                        <a href="/" class="brand-logo">Choate Zoom Coordinator</a>
                    </div>
                    <div class="hide-on-large">
                        <a href="/" class="brand-logo">CZC</a>
                    </div>

                    
                    <ul class = "right hide-on-med-and-down">
                        <li>    
                            <div class="center row">
                                <div class="col s12 " >
                                    <div class="row" id="topbarsearch">
                                        <div class="input-field col s6 s12 red-text">
                                            <!--<i class="white-text material-icons prefix">search</i>-->
                                            <form action="/search">
                                                <div class="input-field">
                                                    <input id="search" type="search" name="search" required>
                                                    <label class="label-icon" for="search"><i class="material-icons">search</i></label>
                                                    <i class="material-icons">close</i>
                                                    <input type="submit" style="display: none" />
                                                </div>
                                            </form>
                                            <!--<input type="text" placeholder="search" id="autocomplete-input" class="autocomplete white-text" >-->
                                        </div>
                                    </div>
                                </div>
                            </div>          
                        </li>    

                    </ul>
                </div>
            </nav> 
        </div>
        <!-- CARDS -->
        <div class="row container">
            <div class="col s12 m8 offset-m1 xl7">
                {{ cards }}
            </div>


            <div class="col hide-on-small-only m3 l2 container">
                <ul class="section table-of-contents">
                    <div style="position: fixed; line-height: 1.3rem; ">
                        {{ toc }}
                    </div>
                </ul>
            </div>
        </div>
        <div class="fixed-action-btn">
            <a class="btn-floating btn-large red" href="#top">
                <i class="large material-icons">arrow_upward</i>
            </a>
        </div>

        <!-- FOOTER -->
        <div class="container">
            <br>
            <!--<hr>-->
            <footer id="footer">
                <div class="row">
                    <div class="col-lg-12">
                    <ul class="list-unstyled">
                        <li><a href="https://github.com/ChoateProgrammingUnion/zoom-coordinator">GitHub</a></li>
                    </ul>
                    <p>Website created by the Choate Programming Union.<br />
                        Particularly: Max Fan, Ethan Chapman, Spencer Bowles, Aiyu Kamate, and Nate Krauss.</p>
                    <p>Created for use only by members of the Choate Rosemary Hall community</p>
                    <p>Based on <a href="https://getbootstrap.com" rel="nofollow">Bootstrap</a>. Icons from <a href="https://fontawesome.com/" rel="nofollow">Font Awesome</a>. Web fonts from <a href="https://fonts.google.com/" rel="nofollow">Google</a>.</p>
                        <!-- <p>Number of git commits: {{ number_of_commits }} Last commit: {{ last_commit }}</p> -->
                    </div>
                </div>
            </footer>
        </div> 


        <!--JavaScript at end of body for optimized loading-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js" integrity="sha256-U/cHDMTIHCeMcvehBv1xQ052bPSbJtbuiw4QA9cTKz0=" crossorigin="anonymous"></script>
    </body>
</html>
